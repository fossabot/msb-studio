# MSB Studio - Generated Node-RED Flow

This Node-RED flow was generated by MSB Studio, a simple WebIDE to facilitate the integration of your services by providing auto-generated client code for a quick-start.

You can use this flow to connect your Node-RED instance / flow to an MSB instance to send / receive events.

## Get started

Before deploying the generated flow for your service, there are some more steps:

### Prerequisites

- Node-RED instance up and running including the ``node-red-contrib-msb`` plugin:
```sh
docker volume create node_red_user_data

docker run \
    -it \
    --name node-red-msb \
    -p 1880:1880 \
    -v node_red_user_data:/data \
    {DockerRegistry}node-red:latest
```
- MSB instance up and running including the websocket interface

### Import flow

Import the generated flow by either drag-and-drop it to the Node-RED web interface or using the import dialog.

The basic flow includes
- the msb-client node
- one output to wire with other nodes for each function
- all outputs wired to a debug node for initial event logging
- one msb-event node per event wired to the msb-cllient node to route inputs

### Update settings

Update the settings of the msb-client node in your flow:
- Insert the __MSB instance url__ you want to connect to (websocket interface)
- Update __UUID__ and __token__ if neccessary

### Test your service connectivity

Deploy the flow via the Node-RED web interface.

Notice a new label below the msb-client node indicating the connection state with the msb instance.

## Next Steps

After testing the generated msb-client flow, your are now ready to extend it and integrate it with your other flows.

In Node-RED:
- Link other nodes to msb-events (or test inputs by inject nodes)
- replace the debug node by other nodes of your flow handling the incoming events (function outputs)

In the MSB instance:
- Add integration flows to the MSB instance to connect your Node-RED flow to other services.
