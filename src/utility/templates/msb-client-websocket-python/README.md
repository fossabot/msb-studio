# MSB Studio - Generated Python Client

This client was generated by MSB Studio, a simple WebIDE to facilitate the integration of your services by providing auto-generated client code for a quick-start.

You can find more information about the NodeJS client on Github: https://github.com/research-virtualfortknox/msb-client-websocket-python

## Get started

Before running the generated client code for your service, there are some more steps:

### Install dependencies

(Required) Install required dependencies using Pipenv:
```sh
 python -m pipenv install
```

If you do not wnat to use a virtual python environment, you can also use a requirementstxt file to manage the dependencies. Create a requirements.txt file and add:
```sh
msb-client-websocket-peython==1.0.7
```

### Update settings

Update the settings of your service in the ``application.properties`` file:
- Insert the __msb.url__ you want to connect to
- Update __UUID__ and __token__ of your service if neccessary

### Update code

(Optional) Replace the sample output of the function implementations with your own code in ``main.py``:
```py
# function implementations
```

(Optional) Add response events to the function implementations in ``main.py``:
```py
# TODO: Send response events for ...
```

(Optional) If you want to test your service sending data, update the send_data function in ``main.py``:
```py
def sendData():
    while True:
        # add your test events here
        #myMsbClient.publish(
        #    eventId="EVENT_ID", # event id
        #    dataObject="Hello World!", # event value (or object)
        #    priority=0, # event priority
        #)
        # wait 5 seconds
        time.sleep(5)
```

### Test your service

Open pipenv shell (virtual python environment):
```sh
python -m pipenv shell
```

Start the service:
```sh
python main.py
```

Check the log outputs:
- Self-desription valid?
- Connected and registered successfully?

Verify your service in the MSB GUI.

## Next Steps

After testing the generated code, your are now ready to extend it and integrate it with your service code.

Add integration flows to connect your service to other services.
